<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1" /> 
<title></title>
</head>
<style>

body {
	text-align: center;
}
</style>
<body>
	<script src="dic.js" charset="utf-8"></script>
	<script src="dicflipped.js" charset="utf-8"></script>
	<p style = "text-align: center;" style='font-size:20px'><b>Convert Hanzi to Japanese Kanji</b> <br><br>
	Text: <br>
	<textarea id="input" oninput='this.style.height = "";this.style.height = this.scrollHeight + "px"'></textarea> <br><br>
	Converted Text: <br>
	<textarea id="result" oninput='this.style.height = "";this.style.height = this.scrollHeight + "px"'></textarea><br><br>
	<button onclick = "convert()" id ="convert">Convert</button>&emsp;&emsp;<button onclick = "clearAll()" id ="clearall">Clear All</button><br><br>
	<p align = "center"><input id ="kanji to hanzi?" type="checkbox" style="text-align: center;" > Kanji to Hanzi </input></p>
	<script>
	
	function is_value_in_array(array,value)
	{
		for(let i = 0; i < array.length; i++)
		{
			if(array[i] == value)
			{
				return true;
			}
		}
		return false;
	}
	
		
	function convert()
	{
		input = document.getElementById("input").value;
		let converted_string =  "";
		var kanjiToHanzi = document.getElementById("kanji to hanzi?").checked;
		var dict;
		
		if (kanjiToHanzi)
		{
			dict =  dicflipped;
		}
		else
		{
			dict =  dic;
		}
		
		let keys = Object.keys(dict);
		for(let i = 0; i < input.length; i++) 
		{
			if (is_value_in_array(keys,input[i]))
			{
				converted_string = converted_string.concat(dict[input[i]])
			}
			else
			{
				converted_string = converted_string.concat(input[i])
			}
		}
		
		document.getElementById("result").value = converted_string;
		
	}
	
	function clearAll()
	{
		document.getElementById("input").value = "";
		document.getElementById("result").value = "";
	}
	
	</script>
	
	
	

	
</body>
</html>
